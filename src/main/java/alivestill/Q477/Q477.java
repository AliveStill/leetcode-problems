package alivestill.Q477;

public class Q477 {

    public static Solution so = new Solution();

    public static void main(String[] args) {
        // no indentation version:
        // 1783,9997,470,4574,6076,7452,8823,93,9649,4182,3696,5418,8389,4571,785,7541,8832,1795,5767,9429,1375,3006,4339,8117,1312,966,919,3925,2294,1904,9020,2529,6633,5666,8115,910,4350,3678,774,9601,4383,8717,7674,1226,8902,4215,7460,2461,9211,8862,357,6881,6103,9466,1987,6337,1845,8655,4037,1873,6996,2443,6170,8538,7259,2587,359,8262,4026,157,4363,8728,9032,5872,2657,5314,3759,392,9090,5274,9920,1422,4484,5462,1075,5012,6754,5444,5920,1718,1145,6662,8563,2076,317,2107,7312,7884,9190,1817,643,2444,2618,8758,2178,6037,7480,7014,1617,2739,8798,143,9314,9673,2520,3960,3095,9377,998,2112,7909,1713,2504,3291,2455,6937,3561,5350,8908,7001,9781,3724,3710,2768,8455,2385,1872,3983,9716,107,5283,7963,9966,2241,6469,5730,6182,6028,6966,8437,2305,8106,6392,7843,2837,9377,835,1110,7057,8496,6067,2822,551,1889,4127,8940,1798,4923,1910,5266,6712,6436,8711,4997,9236,7316,1053,2492,2945,1877,9269,3555,361,6934,974,5360,8421,2926,8284,7174,5243,4253,1001,2440,9664,4622,7817,3237,3595,8089,248,5729,1416,9750,6690,7333,1942,9964,7086,2013,9790,7543,6424,7215,8096,5607,6746,2571,7851,5813,8134,2270,6089,4625,7218,4465,8965,7142,4689,2126,4906,1679,4906,7826,9961,7812,647,5438,4342,9980,2541,9784,832,6934,9122,542,4235,755,9040,986,4796,7402,3268,2193,8144,2127,1955,214,7049,8398,5691,4204,6534,8625,8497,4632,1326,4865,5372,9060,7465,122,2828,3936,3115,8743,7400,6164,9054,1724,4884,2304,2539,5650,4971,4660,84,6972,5295,971,8705,7049,9658,8034,1973,5251,239,8791,3228,1428,914,4077,4932,1000,7425,4011,4404,8029,9246,4724,9901,9798,1098,305,5100,9408,4351,3434,6105,5004,8746,6421,5504,5051,7315,9141,8057,3960,122,9283,8326,6190,7984,8410,6969,6570,4847,8284,5487,3484,4567,1330,8044,8999,6390,5937,2852,2552,1811,552,3827,787,7672,7270,7227,5000,9657,9608,7176,1253,2565,5696,1249,4437,6072,7905,5709,7574,8058,7959,4478,4904,3512,2948,3391,8402,1853,9188,4710,9438,4508,354,8038,6852,4125,4579,4437,4949,786,8592,4484,3454,6564,2210,8512,332,351,4918,1139,6510,4710,8976,4824,5398,8261,4779,7018,3338,8289,5918,5767,3127,7390,5387,9654,7157,829,5041,8242,7109,1471,2865,9378,7894,9115,973,327,3016,3064,3212,225,568,6744,3387,8814,9209,9297,3949,6032,4468,2760,7827,5962,214,8572,3991,6055,344,9213,8370,5799,8492,5287,846,8326,4515,527,6821,3419,4683,9352,168,7626,7030,5762,2940,8454,9814,4209,5822,7191,6676,8309,2919,1619,7743,3707,2459,6508,5458,5759,4428,4759,6382,1948,8555,1956,87,9362,4350,1135,3547,9203,6109,401,7452,7898,9527,8323,3631,5432,8561,5553,4893,9388,862,2359,8359,4687,4411,9099,6518,8889,561,758,5744,4979,2701,800,7575,218,8908,3751,7707,4780,128,7020,3504,7027,2304,8362,3882,3355,3035,131,6101,4930,605,8297,7665,2875,3802,9910,2250,7806,5847,8441,1461,7408,7448,4350,1639,9242,2644,5128,8496,4008,2084,8717,1572,2065,8971,1486,4778,7422,3664,5394,2846,6169,6662,7214,7937,3844,6092,5603,7376,4450,3920,9988,5218,3798,6559,2418,2922,6262,952,1317,2973,1163,7454,6793,3501,8152,204,6532,6676,1653,8258,704,1997,359,4830,6345,6747,4877,4806,8244,5549,1193,6226,5417,857,2890,1927,5343,5781,6290,5741,3763,3062,6552,2002,4149,3391,845,9879,2383,6027,9107,6104,2098,8661,5582,3865,1566,3012,7627,6252,5294,1013,7992,7504,5806,8032,1167,8419,27,1149,5058,8151,5397,319,500,9299,9107,8766,7970,7632,9315,9251,765,4084,9980,1692,5108,2940,2146,1343,8946,8817,2789,5547,7041,5341,167,1626,3386,4983,216,6483,5691,9979,9440,2749,883,773,9832,5101,845,1803,2341,5744,9702,2938,8338,5300,9196,6953,3704,1248,7814,7594,973,1445,7834,6559,6999,7580,7679,441,9227,7214,4816,3611,1095,5362,3208,6845,6568,7297,6672,9180,952,2102,6035,5087,5415,370,8203,2085,9445,9228,9498,3578,2186,7061,2422,2121,3154,9080,2209,9050,1257,1616,9940,6076,9246,1973,6952,6942,1639,990,7729,9720,4385,9258,5400,4471,8481,7418,9619,9205,3372,998,1347,4678,1200,3808,5673,2526,77,2805,6277,7121,1476,9071,2493,787,2938,9783,9031,3182,4568,4456,5252,769,9763,3407,2664,7141,9235,8303,8170,9403,1650,7682,5684,8465,8754,8425,4791,916,6539,8228,3103,8576,2145,1629,4014,1506,1374,1566,696,6830,5905,8467,8347,6268,4818,4442,120,7261,608,8647,7954,9148,3242,3892,8114,4032,246,6822,2885,174,5921,3338,2467,2379,7380,1790,1660,8607,2351,6173,752,68,9812,8626,2203,9102,2547,2766,1852,469,7726,7236,7777,8509,3288,2481,2801,8295,3967,9417,981,9632,3634,716,1380,3511,8528,9944,9561,2956,7040,9208,4899,6884,7127,7418,6601,9369,441,2671,696,3454,6735,8843,9338,1696,8465,7532,8693,5992,7200,8999,8557,2126,978,3661,4614,8503,2795,3421,2203,3039,373,3924,5044,3041,3532,6031,3032,2978,6249,9505,559,5374,3208,6736,3201,9739,5080,9561,6369,7786,4702,1028,7104,2412,8198,1746,559,1824,5992,6162,949,6058,8723,8756,152,1408,8328,2245,1052,8990,1958,6233,2149,9257,5709,3190,7627,7360,913,4364,6649,1103,5853,3747,4914,6062,321,6414,5985,470,4074,9995,1770,1331,477,364,8003,5540,8192,9983,5129,927,7828,4601,8656,642,3394,1458,3290,2933,3569,5834,2659,7195,4194,8858,311,8648,7608,7892,737,4812,9751,2876,3169,4140,264,5200,9432,386,5174,4803,4371,9419,8424,2999,3890,7982,7963,7624,7348,4269,1499,8902,4465,8371,2927,1995,
        int[] array;
        // compact space
        {
            array = new int[] {
                    1783,   9997,    470,   4574,   6076,   7452,   8823,     93,   9649,   4182,   3696,   5418,   8389,   4571,    785,   7541,
                    8832,   1795,   5767,   9429,   1375,   3006,   4339,   8117,   1312,    966,    919,   3925,   2294,   1904,   9020,   2529,
                    6633,   5666,   8115,    910,   4350,   3678,    774,   9601,   4383,   8717,   7674,   1226,   8902,   4215,   7460,   2461,
                    9211,   8862,    357,   6881,   6103,   9466,   1987,   6337,   1845,   8655,   4037,   1873,   6996,   2443,   6170,   8538,
                    7259,   2587,    359,   8262,   4026,    157,   4363,   8728,   9032,   5872,   2657,   5314,   3759,    392,   9090,   5274,
                    9920,   1422,   4484,   5462,   1075,   5012,   6754,   5444,   5920,   1718,   1145,   6662,   8563,   2076,    317,   2107,
                    7312,   7884,   9190,   1817,    643,   2444,   2618,   8758,   2178,   6037,   7480,   7014,   1617,   2739,   8798,    143,
                    9314,   9673,   2520,   3960,   3095,   9377,    998,   2112,   7909,   1713,   2504,   3291,   2455,   6937,   3561,   5350,
                    8908,   7001,   9781,   3724,   3710,   2768,   8455,   2385,   1872,   3983,   9716,    107,   5283,   7963,   9966,   2241,
                    6469,   5730,   6182,   6028,   6966,   8437,   2305,   8106,   6392,   7843,   2837,   9377,    835,   1110,   7057,   8496,
                    6067,   2822,    551,   1889,   4127,   8940,   1798,   4923,   1910,   5266,   6712,   6436,   8711,   4997,   9236,   7316,
                    1053,   2492,   2945,   1877,   9269,   3555,    361,   6934,    974,   5360,   8421,   2926,   8284,   7174,   5243,   4253,
                    1001,   2440,   9664,   4622,   7817,   3237,   3595,   8089,    248,   5729,   1416,   9750,   6690,   7333,   1942,   9964,
                    7086,   2013,   9790,   7543,   6424,   7215,   8096,   5607,   6746,   2571,   7851,   5813,   8134,   2270,   6089,   4625,
                    7218,   4465,   8965,   7142,   4689,   2126,   4906,   1679,   4906,   7826,   9961,   7812,    647,   5438,   4342,   9980,
                    2541,   9784,    832,   6934,   9122,    542,   4235,    755,   9040,    986,   4796,   7402,   3268,   2193,   8144,   2127,
                    1955,    214,   7049,   8398,   5691,   4204,   6534,   8625,   8497,   4632,   1326,   4865,   5372,   9060,   7465,    122,
                    2828,   3936,   3115,   8743,   7400,   6164,   9054,   1724,   4884,   2304,   2539,   5650,   4971,   4660,     84,   6972,
                    5295,    971,   8705,   7049,   9658,   8034,   1973,   5251,    239,   8791,   3228,   1428,    914,   4077,   4932,   1000,
                    7425,   4011,   4404,   8029,   9246,   4724,   9901,   9798,   1098,    305,   5100,   9408,   4351,   3434,   6105,   5004,
                    8746,   6421,   5504,   5051,   7315,   9141,   8057,   3960,    122,   9283,   8326,   6190,   7984,   8410,   6969,   6570,
                    4847,   8284,   5487,   3484,   4567,   1330,   8044,   8999,   6390,   5937,   2852,   2552,   1811,    552,   3827,    787,
                    7672,   7270,   7227,   5000,   9657,   9608,   7176,   1253,   2565,   5696,   1249,   4437,   6072,   7905,   5709,   7574,
                    8058,   7959,   4478,   4904,   3512,   2948,   3391,   8402,   1853,   9188,   4710,   9438,   4508,    354,   8038,   6852,
                    4125,   4579,   4437,   4949,    786,   8592,   4484,   3454,   6564,   2210,   8512,    332,    351,   4918,   1139,   6510,
                    4710,   8976,   4824,   5398,   8261,   4779,   7018,   3338,   8289,   5918,   5767,   3127,   7390,   5387,   9654,   7157,
                    829,   5041,   8242,   7109,   1471,   2865,   9378,   7894,   9115,    973,    327,   3016,   3064,   3212,    225,    568,
                    6744,   3387,   8814,   9209,   9297,   3949,   6032,   4468,   2760,   7827,   5962,    214,   8572,   3991,   6055,    344,
                    9213,   8370,   5799,   8492,   5287,    846,   8326,   4515,    527,   6821,   3419,   4683,   9352,    168,   7626,   7030,
                    5762,   2940,   8454,   9814,   4209,   5822,   7191,   6676,   8309,   2919,   1619,   7743,   3707,   2459,   6508,   5458,
                    5759,   4428,   4759,   6382,   1948,   8555,   1956,     87,   9362,   4350,   1135,   3547,   9203,   6109,    401,   7452,
                    7898,   9527,   8323,   3631,   5432,   8561,   5553,   4893,   9388,    862,   2359,   8359,   4687,   4411,   9099,   6518,
                    8889,    561,    758,   5744,   4979,   2701,    800,   7575,    218,   8908,   3751,   7707,   4780,    128,   7020,   3504,
                    7027,   2304,   8362,   3882,   3355,   3035,    131,   6101,   4930,    605,   8297,   7665,   2875,   3802,   9910,   2250,
                    7806,   5847,   8441,   1461,   7408,   7448,   4350,   1639,   9242,   2644,   5128,   8496,   4008,   2084,   8717,   1572,
                    2065,   8971,   1486,   4778,   7422,   3664,   5394,   2846,   6169,   6662,   7214,   7937,   3844,   6092,   5603,   7376,
                    4450,   3920,   9988,   5218,   3798,   6559,   2418,   2922,   6262,    952,   1317,   2973,   1163,   7454,   6793,   3501,
                    8152,    204,   6532,   6676,   1653,   8258,    704,   1997,    359,   4830,   6345,   6747,   4877,   4806,   8244,   5549,
                    1193,   6226,   5417,    857,   2890,   1927,   5343,   5781,   6290,   5741,   3763,   3062,   6552,   2002,   4149,   3391,
                    845,   9879,   2383,   6027,   9107,   6104,   2098,   8661,   5582,   3865,   1566,   3012,   7627,   6252,   5294,   1013,
                    7992,   7504,   5806,   8032,   1167,   8419,     27,   1149,   5058,   8151,   5397,    319,    500,   9299,   9107,   8766,
                    7970,   7632,   9315,   9251,    765,   4084,   9980,   1692,   5108,   2940,   2146,   1343,   8946,   8817,   2789,   5547,
                    7041,   5341,    167,   1626,   3386,   4983,    216,   6483,   5691,   9979,   9440,   2749,    883,    773,   9832,   5101,
                    845,   1803,   2341,   5744,   9702,   2938,   8338,   5300,   9196,   6953,   3704,   1248,   7814,   7594,    973,   1445,
                    7834,   6559,   6999,   7580,   7679,    441,   9227,   7214,   4816,   3611,   1095,   5362,   3208,   6845,   6568,   7297,
                    6672,   9180,    952,   2102,   6035,   5087,   5415,    370,   8203,   2085,   9445,   9228,   9498,   3578,   2186,   7061,
                    2422,   2121,   3154,   9080,   2209,   9050,   1257,   1616,   9940,   6076,   9246,   1973,   6952,   6942,   1639,    990,
                    7729,   9720,   4385,   9258,   5400,   4471,   8481,   7418,   9619,   9205,   3372,    998,   1347,   4678,   1200,   3808,
                    5673,   2526,     77,   2805,   6277,   7121,   1476,   9071,   2493,    787,   2938,   9783,   9031,   3182,   4568,   4456,
                    5252,    769,   9763,   3407,   2664,   7141,   9235,   8303,   8170,   9403,   1650,   7682,   5684,   8465,   8754,   8425,
                    4791,    916,   6539,   8228,   3103,   8576,   2145,   1629,   4014,   1506,   1374,   1566,    696,   6830,   5905,   8467,
                    8347,   6268,   4818,   4442,    120,   7261,    608,   8647,   7954,   9148,   3242,   3892,   8114,   4032,    246,   6822,
                    2885,    174,   5921,   3338,   2467,   2379,   7380,   1790,   1660,   8607,   2351,   6173,    752,     68,   9812,   8626,
                    2203,   9102,   2547,   2766,   1852,    469,   7726,   7236,   7777,   8509,   3288,   2481,   2801,   8295,   3967,   9417,
                    981,   9632,   3634,    716,   1380,   3511,   8528,   9944,   9561,   2956,   7040,   9208,   4899,   6884,   7127,   7418,
                    6601,   9369,    441,   2671,    696,   3454,   6735,   8843,   9338,   1696,   8465,   7532,   8693,   5992,   7200,   8999,
                    8557,   2126,    978,   3661,   4614,   8503,   2795,   3421,   2203,   3039,    373,   3924,   5044,   3041,   3532,   6031,
                    3032,   2978,   6249,   9505,    559,   5374,   3208,   6736,   3201,   9739,   5080,   9561,   6369,   7786,   4702,   1028,
                    7104,   2412,   8198,   1746,    559,   1824,   5992,   6162,    949,   6058,   8723,   8756,    152,   1408,   8328,   2245,
                    1052,   8990,   1958,   6233,   2149,   9257,   5709,   3190,   7627,   7360,    913,   4364,   6649,   1103,   5853,   3747,
                    4914,   6062,    321,   6414,   5985,    470,   4074,   9995,   1770,   1331,    477,    364,   8003,   5540,   8192,   9983,
                    5129,    927,   7828,   4601,   8656,    642,   3394,   1458,   3290,   2933,   3569,   5834,   2659,   7195,   4194,   8858,
                    311,   8648,   7608,   7892,    737,   4812,   9751,   2876,   3169,   4140,    264,   5200,   9432,    386,   5174,   4803,
                    4371,   9419,   8424,   2999,   3890,   7982,   7963,   7624,   7348,   4269,   1499,   8902,   4465,   8371,   2927,   1995
            };
        }
        System.out.println(so.totalHammingDistance(array));
        System.out.println(so.totalHammingDistance(new int[]{}));
    }
}

class Solution {
    /// @brief math
    /// @details for each bit of 32-bit integers, count it's 0s and 1s,
    ///     add them up, for this particular problem, we just count 1s,
    ///     since we know that the number of 0s equals the total size of
    ///     the array subtracts count of 1s.
    public int totalHammingDistance(int[] nums) {
        int lens = nums.length;
        if (lens == 0) {
            return 0;
        }
        int[] bits = new int[32];   // count of 1's in every bit
        for (int num : nums) {
            int index = 0;
            while (num != 0) {
                if ((num & 1) == 1) {
                    ++ bits[index];
                }
                ++ index;
                num >>= 1;
            }
        }
        int res = 0;
        for (int bit : bits) {
            res += bit * (lens - bit);
        }
        return res;
    }
}
